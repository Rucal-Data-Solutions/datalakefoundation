name: Wiki Sync

on:
  push:
    branches: [ "main" ]
    paths:
      - 'docs/**'
      - 'README.md'
      - 'RELEASE_NOTES.md'
      - 'LOG_LEVEL_CONFIG.md'
      - '.github/scripts/sync-wiki.sh'
      - '.github/workflows/wiki-sync.yml'

permissions:
  contents: write

jobs:
  sync:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Sync docs to wiki
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      run: bash .github/scripts/sync-wiki.sh
